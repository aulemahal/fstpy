#+TITLE_: CMC CONDA HOWTO
#+OPTIONS: toc:1

* Conda basics

[[https://kiwidamien.github.io/save-the-environment-with-conda-and-how-to-let-others-run-your-programs.html][conda reference]]

** get cmc conda
        #+BEGIN_SRC sh
            . ssmuse-sh -x cmd/cmdm/satellite/master_u1/miniconda3_4.9.2_ubuntu-18.04-skylake-64
        #+END_SRC

** create an environment
        #+BEGIN_SRC sh    
            conda create --name fstpy_dev_env python=3.6
        #+END_SRC

** activate an environment
        #+BEGIN_SRC sh
            . activate fstpy_dev_env
        #+END_SRC

** install stuff in the env
        #+BEGIN_SRC sh
            conda install -c conda-forge sphinx-autodoc-typehints
            conda install -c conda-forge sphinx-gallery
            conda install -c conda-forge sphinx_rtd_theme
            conda install ipykernel
            conda install jupyter-lab
            conda install numpy pandas dask xarray pytest
            conda install sphinx
        #+END_SRC

** export env to file
        #+BEGIN_SRC sh
            conda env export > environment.yaml
        #+END_SRC
    
** deactivate the env
        #+BEGIN_SRC sh
            conda deactivate
        #+END_SRC
    
** deleting the env
        #+BEGIN_SRC sh
            conda env remove --name fstpy_dev_env
        #+END_SRC

** list all envs
        #+BEGIN_SRC sh
            conda info --envs
        #+END_SRC

** recreate the env from yml specs
        #+BEGIN_SRC sh
            conda env create --file environment.yaml
        #+END_SRC
